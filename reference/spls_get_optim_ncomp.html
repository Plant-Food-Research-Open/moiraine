<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Select the optimal ncomp from sPLS cross-validation results — spls_get_optim_ncomp • moiraine</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Select the optimal ncomp from sPLS cross-validation results — spls_get_optim_ncomp"><meta name="description" content="Select the optimal number of components to compute in a sPLS run from the
cross-validation results obtained with mixOmics::perf() on a PLS or sPLS
result, using the the mean Q2.total values. Note that this function is
experimental, the corresponding diagnostic plots should be considered when
selecting the optimal number of components to use."><meta property="og:description" content="Select the optimal number of components to compute in a sPLS run from the
cross-validation results obtained with mixOmics::perf() on a PLS or sPLS
result, using the the mean Q2.total values. Note that this function is
experimental, the corresponding diagnostic plots should be considered when
selecting the optimal number of components to use."><meta property="og:image" content="https://plant-food-research-open.github.io/moiraine/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">moiraine</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="https://plant-food-research-open.github.io/moiraine-manual/overview.html">Overview</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="https://plant-food-research-open.github.io/moiraine-manual/">Manual</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/Plant-Food-Research-Open/moiraine"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Select the optimal ncomp from sPLS cross-validation results</h1>
      <small class="dont-index">Source: <a href="https://github.com/Plant-Food-Research-Open/moiraine/blob/main/R/spls.R" class="external-link"><code>R/spls.R</code></a></small>
      <div class="d-none name"><code>spls_get_optim_ncomp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Select the optimal number of components to compute in a sPLS run from the
cross-validation results obtained with <code><a href="https://rdrr.io/pkg/mixOmics/man/perf.html" class="external-link">mixOmics::perf()</a></code> on a PLS or sPLS
result, using the the mean <code>Q2.total</code> values. Note that this function is
experimental, the corresponding diagnostic plots should be considered when
selecting the optimal number of components to use.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">spls_get_optim_ncomp</span><span class="op">(</span><span class="va">spls_perf</span>, thr <span class="op">=</span> <span class="fl">0.0975</span>, min_ncomp <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-spls-perf">spls_perf<a class="anchor" aria-label="anchor" href="#arg-spls-perf"></a></dt>
<dd><p>List, the result of <code><a href="https://rdrr.io/pkg/mixOmics/man/perf.html" class="external-link">mixOmics::perf()</a></code>.</p></dd>


<dt id="arg-thr">thr<a class="anchor" aria-label="anchor" href="#arg-thr"></a></dt>
<dd><p>Numeric, the threshold to be used for the <code>Q2</code> values. Default
value is 0.0975.</p></dd>


<dt id="arg-min-ncomp">min_ncomp<a class="anchor" aria-label="anchor" href="#arg-min-ncomp"></a></dt>
<dd><p>Integer, the minimum <code>ncomp</code> value to be returned. Default
value is 1, i.e. this argument does not play a role in selecting the <code>comp</code>
value. Can be useful if we want at least 2 latent components for final
plots.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An integer, the optimal number of components to use for the sPLS
run.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The selection is made as follows:</p><ul><li><p>If all <code>Q2</code> values are below the threshold specified with <code>thr</code>, the
number of components yielding the highest <code>Q2</code> value is selected.</p></li>
<li><p>If all <code>Q2</code> values are above the threshold, the number of components
yielding the lowest <code>Q2</code> value is selected.</p></li>
<li><p>If the <code>Q2</code> values are increasing, the number of components <code>n</code> is
selected such that <code>n+1</code> is the smallest number of components with a <code>Q2</code>
value above the threshold.</p></li>
<li><p>If the <code>Q2</code> values are decreasing, the number of components <code>n</code> is
selected such that <code>n+1</code> is the smallest number of components with a <code>Q2</code>
value below the threshold.</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Olivia Angelin-Bonnet.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

